{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pablo\\\\OneDrive\\\\Escritorio\\\\pokedex-react\\\\pokedex\\\\frontend\\\\src\\\\components\\\\SignUp.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport signUp from '../services/signUp';\nimport { Field, Formik, Form, ErrorMessage } from 'formik';\nimport { Button } from '@material-ui/core';\nimport * as yup from 'yup';\nimport { useHistory } from 'react-router'; //import TextField from './TextField';\n\nimport { useDispatch } from 'react-redux';\nimport { setUser } from '../reducers/userReducer';\nimport { notificationError } from '../reducers/notificationReducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validationSchema = yup.object().shape({\n  username: yup.string().required().min(5, 'Username must contain at least 5 characters').max(20, 'Username must not contain more than 20 characters'),\n  password: yup.string().required().min(5, 'Username must contain at least 5 characters').max(20, 'Username must not contain more than 20 characters'),\n  name: yup.string().required()\n});\n\nconst SignUp = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const renderError = message => /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"help is-danger\",\n    children: message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 38\n  }, this);\n\n  const onSubmit = async event => {\n    console.log(event);\n    const credentials = {\n      username: event.username,\n      password: event.password,\n      name: event.name\n    };\n\n    try {\n      const user = await signUp.signUp(credentials);\n\n      if (user) {\n        window.localStorage.setItem('loggedUser', JSON.stringify(user));\n        dispatch(setUser(user));\n        history.push('/');\n      }\n\n      ;\n    } catch (error) {\n      console.log(error);\n      dispatch(notificationError('Your account was not created, try again!'));\n      return null;\n    }\n\n    ;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: {\n      username: '',\n      password: '',\n      name: ''\n    },\n    onSubmit: onSubmit,\n    validationSchema: validationSchema,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          htmlFor: \"username-signUp\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            name: \"username-signUp\",\n            type: \"text\",\n            className: \"input\",\n            placeholder: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"name\",\n            render: renderError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          htmlFor: \"password-signUp\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            name: \"password-signUp\",\n            type: \"text\",\n            className: \"input\",\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"name\",\n            render: renderError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          htmlFor: \"name-signUp\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            name: \"name-signUp\",\n            type: \"text\",\n            className: \"input\",\n            placeholder: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"name\",\n            render: renderError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SignUp, \"FxNkVwM1QRg2/kU3+RDi4ll7EAM=\", false, function () {\n  return [useDispatch, useHistory];\n});\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["C:/Users/pablo/OneDrive/Escritorio/pokedex-react/pokedex/frontend/src/components/SignUp.js"],"names":["React","signUp","Field","Formik","Form","ErrorMessage","Button","yup","useHistory","useDispatch","setUser","notificationError","validationSchema","object","shape","username","string","required","min","max","password","name","SignUp","dispatch","history","renderError","message","onSubmit","event","console","log","credentials","user","window","localStorage","setItem","JSON","stringify","push","error"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport signUp from '../services/signUp';\r\nimport { Field, Formik, Form, ErrorMessage } from 'formik';\r\nimport { Button } from '@material-ui/core';\r\nimport * as yup from 'yup';\r\nimport { useHistory } from 'react-router';\r\n//import TextField from './TextField';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUser } from '../reducers/userReducer';\r\nimport { notificationError } from '../reducers/notificationReducer';\r\n\r\nconst validationSchema = yup.object().shape({\r\n    username: yup\r\n        .string()\r\n        .required()\r\n        .min(5, 'Username must contain at least 5 characters')\r\n        .max(20, 'Username must not contain more than 20 characters'),\r\n    password: yup\r\n        .string()\r\n        .required()\r\n        .min(5, 'Username must contain at least 5 characters')\r\n        .max(20, 'Username must not contain more than 20 characters'),\r\n    name: yup\r\n        .string()\r\n        .required()\r\n})\r\n\r\nconst SignUp = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const renderError = (message) => <p className=\"help is-danger\">{message}</p>;\r\n\r\n    const onSubmit = async (event) => {\r\n        console.log(event)\r\n        const credentials = {\r\n            username: event.username,\r\n            password: event.password,\r\n            name: event.name\r\n        };\r\n\r\n        try {\r\n            const user = await signUp.signUp(credentials);\r\n            if(user){\r\n                window.localStorage.setItem('loggedUser', JSON.stringify(user))\r\n                dispatch(setUser(user));\r\n                history.push('/');\r\n            };\r\n        } catch (error) {\r\n            console.log(error);\r\n            dispatch(notificationError('Your account was not created, try again!'))\r\n            return null;\r\n        };\r\n    };\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{\r\n                username:'',\r\n                password:'',\r\n                name:''\r\n            }}\r\n            onSubmit={onSubmit}\r\n            validationSchema={validationSchema}\r\n        >\r\n            <Form>\r\n                <div className=\"field\">\r\n                    <label className=\"label\" htmlFor=\"username-signUp\">\r\n                        Username\r\n                    </label>\r\n                    <div className=\"control\">\r\n                        <Field\r\n                            name=\"username-signUp\"\r\n                            type=\"text\"\r\n                            className=\"input\"\r\n                            placeholder=\"Username\"\r\n                        />\r\n                        <ErrorMessage name=\"name\" render={renderError} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"field\">\r\n                    <label className=\"label\" htmlFor=\"password-signUp\">\r\n                        Password\r\n                    </label>\r\n                    <div className=\"control\">\r\n                        <Field\r\n                            name=\"password-signUp\"\r\n                            type=\"text\"\r\n                            className=\"input\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                        <ErrorMessage name=\"name\" render={renderError} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"field\">\r\n                    <label className=\"label\" htmlFor=\"name-signUp\">\r\n                        Name\r\n                    </label>\r\n                    <div className=\"control\">\r\n                        <Field\r\n                            name=\"name-signUp\"\r\n                            type=\"text\"\r\n                            className=\"input\"\r\n                            placeholder=\"Name\"\r\n                        />\r\n                        <ErrorMessage name=\"name\" render={renderError} />\r\n                    </div>\r\n                </div>\r\n                <Button\r\n                    type=\"submit\"\r\n                >\r\n                    Sign Up\r\n                </Button>\r\n            </Form>\r\n        </Formik>\r\n    );\r\n};\r\n\r\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}