{"ast":null,"code":"import reviewsService from '../services/reviews';\n\nconst reviewsReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_REVIEWS':\n      return action.data;\n\n    case 'NEW_REVIEW':\n      return [...state, action.data];\n\n    case 'DELETE_REVIEW':\n      return state.filter(r => r.id !== action.data.id);\n\n    default:\n      return state;\n  }\n\n  ;\n};\n\nexport const initReviews = () => {\n  return async dispatch => {\n    try {\n      const reviews = await reviewsService.getAll();\n      dispatch({\n        type: 'INIT_REVIEWS',\n        data: reviews\n      });\n    } catch (error) {\n      console.log(error);\n      return null;\n    }\n  };\n};\nexport const newReview = content => {\n  return async dispatch => {\n    const review = await reviewsService.create(content);\n    dispatch({\n      type: 'NEW_REVIEW',\n      data: review\n    });\n  };\n};\nexport const deleteReview = review => {\n  return async dispatch => {\n    await reviewsService.deleteReview(review.id);\n    dispatch({\n      type: 'DELETE_REVIEW',\n      data: review\n    });\n  };\n};\nexport default reviewsReducer;","map":{"version":3,"sources":["C:/Users/pablo/OneDrive/Escritorio/pokedex-react/pokedex/frontend/src/reducers/reviewsReducer.js"],"names":["reviewsService","reviewsReducer","state","action","type","data","filter","r","id","initReviews","dispatch","reviews","getAll","error","console","log","newReview","content","review","create","deleteReview"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,qBAA3B;;AAEA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAC3C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAK,cAAL;AACI,aAAOD,MAAM,CAACE,IAAd;;AACJ,SAAK,YAAL;AACI,aAAO,CAAC,GAAGH,KAAJ,EAAWC,MAAM,CAACE,IAAlB,CAAP;;AACJ,SAAK,eAAL;AACI,aAAOH,KAAK,CAACI,MAAN,CAAaC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACE,IAAP,CAAYG,EAAvC,CAAP;;AACJ;AACI,aAAON,KAAP;AARR;;AASC;AACJ,CAXD;;AAaA,OAAO,MAAMO,WAAW,GAAG,MAAM;AAC7B,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAI;AACA,YAAMC,OAAO,GAAG,MAAMX,cAAc,CAACY,MAAf,EAAtB;AACAF,MAAAA,QAAQ,CAAC;AACLN,QAAAA,IAAI,EAAE,cADD;AAELC,QAAAA,IAAI,EAAEM;AAFD,OAAD,CAAR;AAIH,KAND,CAME,OAAOE,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,aAAO,IAAP;AACH;AAEJ,GAZD;AAaH,CAdM;AAgBP,OAAO,MAAMG,SAAS,GAAIC,OAAD,IAAa;AAClC,SAAO,MAAMP,QAAN,IAAkB;AACrB,UAAMQ,MAAM,GAAG,MAAMlB,cAAc,CAACmB,MAAf,CAAsBF,OAAtB,CAArB;AACAP,IAAAA,QAAQ,CAAC;AACLN,MAAAA,IAAI,EAAE,YADD;AAELC,MAAAA,IAAI,EAAEa;AAFD,KAAD,CAAR;AAIH,GAND;AAOH,CARM;AAUP,OAAO,MAAME,YAAY,GAAIF,MAAD,IAAY;AACpC,SAAO,MAAMR,QAAN,IAAkB;AACrB,UAAMV,cAAc,CAACoB,YAAf,CAA4BF,MAAM,CAACV,EAAnC,CAAN;AACAE,IAAAA,QAAQ,CAAC;AACLN,MAAAA,IAAI,EAAE,eADD;AAELC,MAAAA,IAAI,EAAEa;AAFD,KAAD,CAAR;AAIH,GAND;AAOH,CARM;AAUP,eAAejB,cAAf","sourcesContent":["import reviewsService from '../services/reviews';\r\n\r\nconst reviewsReducer = (state = [], action) => {\r\n    switch(action.type) {\r\n        case 'INIT_REVIEWS':\r\n            return action.data;\r\n        case 'NEW_REVIEW':\r\n            return [...state, action.data];\r\n        case 'DELETE_REVIEW':\r\n            return state.filter(r => r.id !== action.data.id);\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const initReviews = () => {\r\n    return async dispatch => {\r\n        try {\r\n            const reviews = await reviewsService.getAll();\r\n            dispatch({\r\n                type: 'INIT_REVIEWS',\r\n                data: reviews,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            return null;\r\n        }\r\n\r\n    };\r\n};\r\n\r\nexport const newReview = (content) => {\r\n    return async dispatch => {\r\n        const review = await reviewsService.create(content);\r\n        dispatch({\r\n            type: 'NEW_REVIEW',\r\n            data: review,\r\n        });\r\n    };\r\n};\r\n\r\nexport const deleteReview = (review) => {\r\n    return async dispatch => {\r\n        await reviewsService.deleteReview(review.id);\r\n        dispatch({\r\n            type: 'DELETE_REVIEW',\r\n            data: review\r\n        });\r\n    };\r\n};\r\n\r\nexport default reviewsReducer;"]},"metadata":{},"sourceType":"module"}